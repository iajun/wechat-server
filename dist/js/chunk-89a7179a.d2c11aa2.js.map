{"version":3,"sources":["webpack:///./src/views/moment/Add.vue?024a","webpack:///./src/components/Recorder.vue?0571","webpack:///src/components/Recorder.vue","webpack:///./src/components/Recorder.vue?e469","webpack:///./src/components/Recorder.vue","webpack:///./src/components/Upload.vue?30e5","webpack:///src/components/Upload.vue","webpack:///./src/components/Upload.vue?c052","webpack:///./src/components/Upload.vue","webpack:///src/views/moment/Add.vue","webpack:///./src/views/moment/Add.vue?04c2","webpack:///./src/views/moment/Add.vue","webpack:///./src/views/moment/Add.vue?cd63","webpack:///./src/components/Recorder.vue?bf5f","webpack:///./src/components/Upload.vue?2c7b"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","text","slot","size","on","click","$event","$router","back","_v","type","submit","staticClass","rows","placeholder","model","value","callback","$$v","textarea","expression","_l","tag","key","closable","disable-transitions","close","handleClose","_s","ref","blur","handleInputConfirm","nativeOn","keyup","indexOf","_k","keyCode","inputValue","showInput","config","label","staticRenderFns","Recordervue_type_template_id_88ed1394_scoped_true_render","isRecording","stopRecord","startRecord","seconds","Recordervue_type_template_id_88ed1394_scoped_true_staticRenderFns","amrRec","Recordervue_type_script_lang_js_","name","data","audio","methods","canvas","document","getElementById","ctx","getContext","fillStyle","fillRect","_this","BenzAMRRecorder_default","a","initWithRecord","then","finishRecord","getBlob","interval","setInterval","range","$refs","style","width","clearInterval","components_Recordervue_type_script_lang_js_","component","Object","componentNormalizer","Recorder","Uploadvue_type_template_id_762e2ebc_scoped_true_render","multiple","input","inputImage","src","i","Uploadvue_type_template_id_762e2ebc_scoped_true_staticRenderFns","Uploadvue_type_script_lang_js_","pictureList","srcList","fileList","pictures","files","readerList","_loop","reader","FileReader","onload","dataURL","result","push","readAsDataURL","length","components_Uploadvue_type_script_lang_js_","Upload_component","Upload","configData","仅自己可见","好友可见","广场可见","Addvue_type_script_lang_js_","components","BaseHeader","tags","inputVisible","dialogImageUrl","dialogVisible","splice","$nextTick","_","saveTagInput","focus","remove","file","preview","url","beforeUpload","isJPG","isLt2M","$message","error","_submit","asyncToGenerator","regeneratorRuntime","mark","_callee","_this$$refs$recorder","fr","res","wrap","_context","prev","next","recorder","upload","FormData","append","concat","moment","sent","$store","commit","stop","apply","arguments","moment_Addvue_type_script_lang_js_","Add_component","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_style_resources_loader_lib_index_js_ref_10_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Add_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_style_resources_loader_lib_index_js_ref_10_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Add_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0___default","n","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_style_resources_loader_lib_index_js_ref_10_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Recorder_vue_vue_type_style_index_0_id_88ed1394_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_style_resources_loader_lib_index_js_ref_10_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Recorder_vue_vue_type_style_index_0_id_88ed1394_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_style_resources_loader_lib_index_js_ref_10_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Upload_vue_vue_type_style_index_0_id_762e2ebc_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_style_resources_loader_lib_index_js_ref_10_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Upload_vue_vue_type_style_index_0_id_762e2ebc_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/chunk-89a7179a.d2c11aa2.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('BaseHeader',{attrs:{\"text\":\"记录中\"}},[_c('template',{slot:\"left\"},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.$router.back()}}},[_vm._v(\"取消\")])],1),_c('template',{slot:\"right\"},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"发布\")])],1)],2),_c('main',{staticClass:\"main-top main-bottom\"},[_c('section',[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":5,\"placeholder\":\"记录这一刻，晒给最懂你的人...\"},model:{value:(_vm.textarea),callback:function ($$v) {_vm.textarea=$$v},expression:\"textarea\"}})],1),_c('section',[_vm._l((_vm.tags),function(tag){return _c('el-tag',{key:tag,attrs:{\"closable\":\"\",\"disable-transitions\":false},on:{\"close\":function($event){return _vm.handleClose(tag)}}},[_vm._v(\"\\n        \"+_vm._s(tag)+\"\\n      \")])}),(_vm.inputVisible)?_c('el-input',{ref:\"saveTagInput\",staticClass:\"input-new-tag\",attrs:{\"size\":\"small\"},on:{\"blur\":_vm.handleInputConfirm},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleInputConfirm($event)}},model:{value:(_vm.inputValue),callback:function ($$v) {_vm.inputValue=$$v},expression:\"inputValue\"}}):_c('el-button',{staticClass:\"button-new-tag\",attrs:{\"size\":\"small\"},on:{\"click\":_vm.showInput}},[_vm._v(\"添加标签\")])],2),_c('section',[_c('Upload',{ref:\"upload\"})],1),_c('section',[_c('Recorder',{ref:\"recorder\"})],1),_c('section',[_c('el-radio-group',{model:{value:(_vm.config),callback:function ($$v) {_vm.config=$$v},expression:\"config\"}},[_c('el-radio-button',{attrs:{\"label\":\"仅自己可见\"}}),_c('el-radio-button',{attrs:{\"label\":\"广场可见\"}}),_c('el-radio-button',{attrs:{\"label\":\"好友可见\"}})],1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"recorder\"},[(!_vm.isRecording)?_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.startRecord}},[_vm._v(\"点击录音\")]):_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.stopRecord}},[_vm._v(\"结束录音\")]),_c('div',{staticClass:\"range\"},[_c('div',{staticClass:\"second y-ctr x-ctr\"},[_vm._v(_vm._s((_vm.seconds + \" s\")))]),_c('div',{ref:\"range\",staticClass:\"range__move\"})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"recorder\">\n    <el-button size=\"small\" @click=\"startRecord\" v-if=\"!isRecording\"\n      >点击录音</el-button\n    >\n    <el-button size=\"small\" @click=\"stopRecord\" v-else>结束录音</el-button>\n    <div class=\"range\">\n      <div class=\"second y-ctr x-ctr\">{{ `${seconds} s` }}</div>\n      <div class=\"range__move\" ref=\"range\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport BenzAMRRecorder from \"benz-amr-recorder\";\nlet amrRec = null;\n\nexport default {\n  name: \"Recorder\",\n  data() {\n    return {\n      isRecording: false,\n      seconds: 0,\n      audio: null\n    };\n  },\n  methods: {\n    canvas() {\n      let canvas = document.getElementById(\"canvas\");\n      let ctx = canvas.getContext(\"2d\");\n      ctx.fillStyle = \"rgb(200,0,0)\";\n      ctx.fillRect(10, 10, 55, 50);\n    },\n    startRecord() {\n      amrRec = new BenzAMRRecorder();\n      amrRec.initWithRecord().then(() => {\n        amrRec.startRecord();\n        this.isRecording = true;\n        amrRec.finishRecord().then(() => {\n          this.audio = amrRec.getBlob();\n        });\n        this.interval = setInterval(() => {\n          this.seconds += 1;\n          let range = this.$refs.range;\n          range.style.width = this.seconds + \"px\";\n          if (this.seconds > 120) {\n            this.stopRecord();\n            clearInterval(this.interval);\n          }\n        }, 1000);\n      });\n    },\n    stopRecord() {\n      this.isRecording = false;\n      amrRec.finishRecord();\n      amrRec = null;\n      clearInterval(this.interval);\n    }\n  }\n};\n</script>\n\n<style scoped lang=\"less\">\n.recorder {\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  font-size: 1.4rem;\n}\n.range {\n  margin: 0 16px;\n  width: 140px;\n  height: 30px;\n  border-radius: 4px;\n  border: 1px solid black;\n  position: relative;\n}\n\n.range__move {\n  .range;\n  width: 0;\n  margin: 0;\n  border: 0;\n  overflow: hidden;\n  transition: 1s width;\n  max-width: 140px;\n  background: #398181;\n  text-align: center;\n}\n.second {\n  z-index: 1000;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Recorder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Recorder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Recorder.vue?vue&type=template&id=88ed1394&scoped=true&\"\nimport script from \"./Recorder.vue?vue&type=script&lang=js&\"\nexport * from \"./Recorder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Recorder.vue?vue&type=style&index=0&id=88ed1394&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"88ed1394\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-file\"},[_c('section',[_c('el-button',{attrs:{\"size\":\"small\"}},[_vm._v(\"上传图片\")]),_c('span',[_vm._v(\"最多不超过9张\")]),_c('input',{ref:\"pictures\",staticClass:\"input-file-real\",attrs:{\"type\":\"file\",\"multiple\":\"\"},on:{\"input\":_vm.inputImage}})],1),_c('section',{staticClass:\"show-image\"},_vm._l((_vm.srcList),function(src,i){return _c('div',{key:i},[_c('img',{attrs:{\"src\":src}})])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"input-file\">\n    <section>\n      <el-button size=\"small\">上传图片</el-button>\n      <span>最多不超过9张</span>\n      <input\n        type=\"file\"\n        ref=\"pictures\"\n        multiple\n        @input=\"inputImage\"\n        class=\"input-file-real\"\n      />\n    </section>\n    <section class=\"show-image\">\n      <div v-for=\"(src, i) in srcList\" :key=\"i\">\n        <img :src=\"src\" />\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Upload\",\n  data() {\n    return { pictureList: [], srcList: [] };\n  },\n  methods: {\n    inputImage() {\n      let fileList = this.$refs.pictures.files;\n\n      this.pictureList = fileList;\n      const readerList = [];\n      for (let i = 0; i < fileList.length; i++) {\n        let reader = new FileReader();\n        reader.onload = () => {\n          let dataURL = reader.result;\n          readerList.push(dataURL);\n        };\n        reader.readAsDataURL(fileList[i]);\n      }\n      this.srcList = readerList;\n    }\n  }\n};\n</script>\n\n<style scoped lang=\"less\">\n.input-file {\n  position: relative;\n  font-size: 1.6rem;\n\n  span {\n    color: grey;\n    font-size: 1.2rem;\n    margin-left: 20px;\n  }\n}\n\n.input-file-real {\n  position: absolute;\n  top: 0;\n  left: 0;\n  opacity: 0;\n  width: 80px;\n  height: 32px;\n}\n\n.el-input {\n  line-height: 30px;\n  width: 80px;\n  margin: 0;\n  font-size: 1.2rem;\n}\n\n.el-input__inner {\n  height: 32px !important;\n}\n.show-image {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  padding: 10px 0;\n\n  img {\n    width: 100px;\n    height: 100px;\n    margin-right: 10px;\n    margin-bottom: 10px;\n    border-radius: 4px;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Upload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Upload.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Upload.vue?vue&type=template&id=762e2ebc&scoped=true&\"\nimport script from \"./Upload.vue?vue&type=script&lang=js&\"\nexport * from \"./Upload.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Upload.vue?vue&type=style&index=0&id=762e2ebc&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"762e2ebc\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <BaseHeader text=\"记录中\">\n      <template slot=\"left\">\n        <el-button size=\"small\" @click=\"$router.back()\">取消</el-button>\n      </template>\n      <template slot=\"right\">\n        <el-button size=\"small\" type=\"primary\" @click=\"submit\">发布</el-button>\n      </template>\n    </BaseHeader>\n    <main class=\"main-top main-bottom\">\n      <section>\n        <el-input\n          type=\"textarea\"\n          :rows=\"5\"\n          placeholder=\"记录这一刻，晒给最懂你的人...\"\n          v-model=\"textarea\"\n        >\n        </el-input>\n      </section>\n      <section>\n        <el-tag\n          :key=\"tag\"\n          v-for=\"tag in tags\"\n          closable\n          :disable-transitions=\"false\"\n          @close=\"handleClose(tag)\"\n        >\n          {{ tag }}\n        </el-tag>\n        <el-input\n          class=\"input-new-tag\"\n          v-if=\"inputVisible\"\n          v-model=\"inputValue\"\n          ref=\"saveTagInput\"\n          size=\"small\"\n          @keyup.enter.native=\"handleInputConfirm\"\n          @blur=\"handleInputConfirm\"\n        >\n        </el-input>\n        <el-button v-else class=\"button-new-tag\" size=\"small\" @click=\"showInput\"\n          >添加标签</el-button\n        >\n      </section>\n      <section>\n        <Upload ref=\"upload\"></Upload>\n      </section>\n      <section>\n        <Recorder ref=\"recorder\"></Recorder>\n      </section>\n      <section>\n        <el-radio-group v-model=\"config\">\n          <el-radio-button label=\"仅自己可见\"></el-radio-button>\n          <el-radio-button label=\"广场可见\"></el-radio-button>\n          <el-radio-button label=\"好友可见\"></el-radio-button>\n        </el-radio-group>\n      </section>\n    </main>\n  </div>\n</template>\n\n<script>\nimport BaseHeader from \"c/app/BaseHeader\";\nimport Recorder from \"c/Recorder\";\nimport Upload from \"c/Upload\";\nimport { _addMoment } from \"@/services/moment\";\n\nconst configData = {\n  仅自己可见: -1,\n  好友可见: 1,\n  广场可见: 2\n};\n\nexport default {\n  name: \"addMoment\",\n  components: {\n    BaseHeader,\n    Recorder,\n    Upload\n  },\n  data() {\n    return {\n      textarea: \"\",\n      tags: [],\n      inputVisible: false,\n      inputValue: \"\",\n      dialogImageUrl: \"\",\n      dialogVisible: false,\n      config: \"广场可见\"\n    };\n  },\n  methods: {\n    handleClose(tag) {\n      this.tags.splice(this.tags.indexOf(tag), 1);\n    },\n\n    showInput() {\n      this.inputVisible = true;\n      this.$nextTick(_ => {\n        this.$refs.saveTagInput.$refs.input.focus();\n      });\n    },\n\n    handleInputConfirm() {\n      let inputValue = this.inputValue;\n      if (inputValue) {\n        this.tags.push(inputValue);\n      }\n      this.inputVisible = false;\n      this.inputValue = \"\";\n    },\n    remove(file, fileList) {},\n    preview(file) {\n      this.dialogImageUrl = file.url;\n      this.dialogVisible = true;\n    },\n    beforeUpload(file) {\n      const isJPG = file.type === \"image/jpeg\";\n      const isLt2M = file.size / 1024 / 1024 < 2;\n\n      if (!isJPG) {\n        this.$message.error(\"上传头像图片只能是 JPG 格式!\");\n      }\n      if (!isLt2M) {\n        this.$message.error(\"上传头像图片大小不能超过 2MB!\");\n      }\n      return isJPG && isLt2M;\n    },\n    async submit() {\n      let text = this.textarea;\n      let tags = this.tags;\n      let { audio, seconds } = this.$refs.recorder;\n      let pictureList = this.$refs.upload.pictureList;\n      let config = configData[this.config];\n\n      let fr = new FormData();\n      for (let i = 0; i < pictureList.length; i++) {\n        fr.append(`i${i}`, pictureList[i]);\n      }\n      fr.append(\"text\", text);\n      fr.append(\"tags\", tags);\n      fr.append(\"audio\", audio);\n      fr.append(\"seconds\", seconds);\n      fr.append(\"config\", config);\n      let res = await _addMoment(fr);\n      res && res.data && this.$store.commit(\"ADD_LIST\", res.data);\n    }\n  }\n};\n</script>\n\n<style lang=\"less\">\n.el-tag + .el-tag {\n  margin-left: 10px;\n}\n.button-new-tag {\n  height: 32px;\n  line-height: 30px;\n  padding-top: 0;\n  padding-bottom: 0;\n}\n.button-new-tag:not(:first-child) {\n  margin-left: 10px;\n}\n.input-new-tag {\n  width: 90px;\n  margin-left: 10px;\n  vertical-align: bottom;\n}\n.main-top {\n  section:not(:first-child) {\n    margin-top: 20px;\n  }\n}\nspan.el-radio-button__inner {\n  font-size: 1.2rem;\n  padding: 9px 14px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Add.vue?vue&type=template&id=d83b64be&\"\nimport script from \"./Add.vue?vue&type=script&lang=js&\"\nexport * from \"./Add.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Add.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=style&index=0&lang=less&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Recorder.vue?vue&type=style&index=0&id=88ed1394&scoped=true&lang=less&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Recorder.vue?vue&type=style&index=0&id=88ed1394&scoped=true&lang=less&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Upload.vue?vue&type=style&index=0&id=762e2ebc&scoped=true&lang=less&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Upload.vue?vue&type=style&index=0&id=762e2ebc&scoped=true&lang=less&\""],"sourceRoot":""}